# âœ¨ Nouvelle Interface : Sources Ã‰quilibrÃ©es (Transcripts âš–ï¸ Sous-titres)

## ğŸ‰ Ce qui a changÃ©

L'interface de l'onglet **Corpus** a Ã©tÃ© entiÃ¨rement repensÃ©e pour mettre **Transcripts** et **Sous-titres** au mÃªme niveau. Les deux sources sont maintenant prÃ©sentÃ©es de maniÃ¨re Ã©gale, permettant des workflows flexibles.

## ğŸ¨ Nouvelle Interface - Bloc 1 : SOURCES

### Vue d'ensemble

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. SOURCES â€” Constitution du corpus                              â”‚
â”‚                                                                   â”‚
â”‚ [Tout cocher] [Tout dÃ©cocher]                                    â”‚
â”‚                                                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ“„ TRANSCRIPTS          â”‚ ğŸ“º SOUS-TITRES (SRT)               â”‚â”‚
â”‚ â”‚ Texte narratif web      â”‚ AlignÃ©s sur la vidÃ©o               â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚ RÃ©cupÃ©ration            â”‚ Import manuel                       â”‚â”‚
â”‚ â”‚ automatique web         â”‚ depuis ordinateur                   â”‚â”‚
â”‚ â”‚                         â”‚                                     â”‚â”‚
â”‚ â”‚ ğŸ” DÃ©couvrir Ã©pisodes   â”‚ â• Ajouter Ã©pisodes (liste)        â”‚â”‚
â”‚ â”‚ ğŸ”€ Fusionner source     â”‚ ğŸ“¥ Importer SRT sÃ©lection          â”‚â”‚
â”‚ â”‚ â¬‡ï¸ TÃ©lÃ©charger sÃ©l.     â”‚ ğŸ“ Import batch (dossier)          â”‚â”‚
â”‚ â”‚ â¬‡ï¸ TÃ©lÃ©charger tout     â”‚ âš™ï¸ GÃ©rer sous-titres               â”‚â”‚
â”‚ â”‚                         â”‚                                     â”‚â”‚
â”‚ â”‚ Status : 15/24 âœ…       â”‚ Status : 8/24 âš ï¸ (16 manquants)   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                   â”‚
â”‚ ğŸ’¡ Workflows flexibles : Transcripts seuls, Sous-titres seuls,  â”‚
â”‚    ou les deux ensemble. Commencez par la source de votre choix!â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‹ FonctionnalitÃ©s par Colonne

### ğŸ“„ TRANSCRIPTS (Colonne Gauche)

**Description** : Texte narratif complet rÃ©cupÃ©rÃ© depuis des sites web spÃ©cialisÃ©s.

**Boutons** :
- **ğŸ” DÃ©couvrir Ã©pisodes** : RÃ©cupÃ¨re automatiquement la liste depuis la source web configurÃ©e (onglet Projet)
- **ğŸ”€ Fusionner autre source** : Fusionne avec une autre source/URL sans Ã©craser les Ã©pisodes existants
- **â¬‡ï¸ TÃ©lÃ©charger sÃ©lection** : TÃ©lÃ©charge le texte narratif des Ã©pisodes cochÃ©s
- **â¬‡ï¸ TÃ©lÃ©charger tout** : TÃ©lÃ©charge le texte narratif de tous les Ã©pisodes dÃ©couverts

**Status** :
- âœ… Vert : Tous les Ã©pisodes ont un transcript tÃ©lÃ©chargÃ©
- âš ï¸ Orange : Certains Ã©pisodes n'ont pas de transcript

---

### ğŸ“º SOUS-TITRES (Colonne Droite)

**Description** : Fichiers de sous-titres (.srt) alignÃ©s prÃ©cisÃ©ment sur la vidÃ©o avec timestamps.

**Boutons** :
- **â• Ajouter Ã©pisodes (liste)** : CrÃ©er manuellement la liste des Ã©pisodes (S01E01, S01E02...). NÃ©cessaire si vous n'avez pas dÃ©couvert via transcripts.
- **ğŸ“¥ Importer SRT sÃ©lection** : Importer les fichiers .srt pour les Ã©pisodes sÃ©lectionnÃ©s (redirige vers Inspecteur)
- **ğŸ“ Import batch (dossier)** : Importer automatiquement tous les .srt d'un dossier avec dÃ©tection automatique des Ã©pisodes
- **âš™ï¸ GÃ©rer sous-titres** : Ouvre l'onglet Inspecteur pour gÃ©rer les pistes de sous-titres

**Status** :
- âœ… Vert : Tous les Ã©pisodes ont au moins une piste de sous-titres
- âš ï¸ Orange : Certains Ã©pisodes n'ont pas de sous-titres

## ğŸš€ Workflows SupportÃ©s

### Workflow 1 : Transcripts d'Abord (Classique)

**Cas d'usage** : Vous travaillez avec des transcripts web uniquement.

**Ã‰tapes** :
1. **Transcripts** â†’ DÃ©couvrir Ã©pisodes
2. **Transcripts** â†’ TÃ©lÃ©charger tout
3. **Normalisation** â†’ Normaliser + Segmenter
4. **Concordance** â†’ Explorer le corpus

---

### Workflow 2 : Sous-titres d'Abord (Nouveau â­)

**Cas d'usage** : Vous travaillez uniquement avec des fichiers .srt locaux.

**Ã‰tapes** :
1. **Sous-titres** â†’ Ajouter Ã©pisodes (liste) : S01E01, S01E02, S01E03...
2. **Sous-titres** â†’ Import batch (dossier) : SÃ©lectionner le dossier contenant vos .srt
3. **Sous-titres** â†’ GÃ©rer sous-titres : VÃ©rifier les pistes dans l'Inspecteur
4. **Normalisation** â†’ Normaliser + Segmenter
5. **Concordance** â†’ Explorer le corpus

**Exemple de dossier** :
```
/mes-sous-titres/
â”œâ”€â”€ S01E01.srt
â”œâ”€â”€ S01E02.srt
â”œâ”€â”€ S01E03.srt
â””â”€â”€ S02E01.srt
```

---

### Workflow 3 : Les Deux en ParallÃ¨le (Optimal)

**Cas d'usage** : Vous avez Ã  la fois des transcripts web et des sous-titres locaux.

**Ã‰tapes** :
1. **Transcripts** â†’ DÃ©couvrir Ã©pisodes + TÃ©lÃ©charger tout
2. **Sous-titres** â†’ Import batch (dossier)
3. **Normalisation** â†’ Normaliser + Segmenter (les deux sources)
4. **Alignement** â†’ Aligner transcripts â†” sous-titres
5. **Concordance** â†’ Explorer le corpus alignÃ©

---

### Workflow 4 : Hybride (FlexibilitÃ© Maximale)

**Cas d'usage** : Certains Ã©pisodes ont des transcripts, d'autres ont des sous-titres.

**Ã‰tapes** :
1. **Transcripts** â†’ DÃ©couvrir + TÃ©lÃ©charger (ex: S01E01-S01E05)
2. **Sous-titres** â†’ Importer SRT (ex: S01E06-S01E10)
3. **Normalisation** â†’ Normaliser tout (gÃ¨re les deux sources)
4. **Concordance** â†’ Explorer le corpus mixte

## ğŸ¯ NouveautÃ©s

### 1. â• Ajouter Ã‰pisodes (Liste)

**Avant** : Bouton "Ajouter Ã©pisodes (SRT only)" isolÃ© et confus  
**AprÃ¨s** : Bouton clair dans la colonne Sous-titres

**Utilisation** :
```
1. Cliquer sur "â• Ajouter Ã©pisodes (liste)"
2. Saisir un episode_id par ligne :
   S01E01
   S01E02
   S01E03
3. OK
4. Les Ã©pisodes sont ajoutÃ©s Ã  l'arbre
```

---

### 2. ğŸ“ Import Batch (Dossier) â­

**NouveautÃ© majeure** : Importer automatiquement tous les .srt d'un dossier !

**FonctionnalitÃ©s** :
- DÃ©tection automatique des Ã©pisodes depuis les noms de fichiers
- CrÃ©ation automatique des Ã©pisodes dans l'index
- Recherche rÃ©cursive dans les sous-dossiers
- RÃ©capitulatif avant import

**Format attendu** : Les fichiers .srt doivent contenir `S01E01`, `S02E05`, etc. dans leur nom.

**Exemples valides** :
- `S01E01.srt` âœ…
- `Friends - S01E01 - The One With The Pilot.srt` âœ…
- `s02e05.french.srt` âœ…
- `Breaking Bad S03E10.srt` âœ…

**Exemples invalides** :
- `episode1.srt` âŒ (pas de format SxxExx)
- `01x01.srt` âŒ (format 01x01 non supportÃ©, utiliser S01E01)

**Dialogue de rÃ©capitulatif** :
```
42 fichier(s) .srt dÃ©tectÃ©(s) :

â€¢ S01E01 â† Friends - S01E01.srt
â€¢ S01E02 â† Friends - S01E02.srt
â€¢ S01E03 â† Friends - S01E03.srt
... et 39 autres

Continuer l'import automatique ?
[Oui] [Non]
```

---

### 3. ğŸ“¥ Importer SRT SÃ©lection

**FonctionnalitÃ©** : Import ciblÃ© pour les Ã©pisodes sÃ©lectionnÃ©s.

**Utilisation** :
1. Cocher les Ã©pisodes souhaitÃ©s dans l'arbre (ou sÃ©lectionner des lignes)
2. Cliquer sur "ğŸ“¥ Importer SRT sÃ©lection"
3. Le dialogue vous redirige vers l'onglet Inspecteur
4. Dans l'Inspecteur, gÃ©rer les pistes de sous-titres pour chaque Ã©pisode

---

### 4. âš™ï¸ GÃ©rer Sous-titres

**FonctionnalitÃ©** : AccÃ¨s rapide Ã  l'onglet Inspecteur.

**Utilisation** :
- Clic â†’ Ouvre l'onglet Inspecteur avec le premier Ã©pisode
- Dans l'Inspecteur, vous pouvez :
  - Voir les pistes de sous-titres existantes
  - Ajouter de nouvelles pistes
  - Supprimer des pistes
  - Normaliser les sous-titres

---

### 5. Status en Temps RÃ©el

**NouveautÃ©** : Chaque colonne affiche son propre status.

**Transcripts** :
- `Status : 15/24 tÃ©lÃ©chargÃ©s âš ï¸ (9 manquants)` â†’ Orange si manquants
- `Status : 24/24 tÃ©lÃ©chargÃ©s âœ…` â†’ Vert si complets

**Sous-titres** :
- `Status : 8/24 importÃ©s âš ï¸ (16 manquants)` â†’ Orange si manquants
- `Status : 24/24 importÃ©s âœ…` â†’ Vert si complets

## ğŸ’¡ Conseils et Bonnes Pratiques

### Pour Projets Sous-titres Uniquement

âœ… **Commencez par** : Sous-titres â†’ Ajouter Ã©pisodes (liste)  
âœ… **Puis** : Sous-titres â†’ Import batch (dossier)  
âœ… **Organisez vos fichiers** : Nommez vos .srt avec le format S01E01, S01E02...  
âœ… **Ignorez** : La colonne Transcripts (pas nÃ©cessaire)

### Pour Projets Transcripts Uniquement

âœ… **Commencez par** : Transcripts â†’ DÃ©couvrir Ã©pisodes  
âœ… **Puis** : Transcripts â†’ TÃ©lÃ©charger tout  
âœ… **Ignorez** : La colonne Sous-titres (pas nÃ©cessaire)

### Pour Projets Hybrides

âœ… **Utilisez les deux colonnes** en parallÃ¨le  
âœ… **Alignez** ensuite dans l'onglet Alignement  
âœ… **Exploitez** la concordance parallÃ¨le

### Organisation des Fichiers SRT

âœ… **Bonne organisation** :
```
/mes-sous-titres/
â”œâ”€â”€ Saison 1/
â”‚   â”œâ”€â”€ S01E01.srt
â”‚   â”œâ”€â”€ S01E02.srt
â”‚   â””â”€â”€ S01E03.srt
â””â”€â”€ Saison 2/
    â”œâ”€â”€ S02E01.srt
    â””â”€â”€ S02E02.srt
```

âœ… **Aussi acceptable** :
```
/mes-sous-titres/
â”œâ”€â”€ Friends.S01E01.French.srt
â”œâ”€â”€ Friends.S01E02.French.srt
â””â”€â”€ Friends.S01E03.French.srt
```

## ğŸ“ Exemples Complets

### Exemple 1 : Corpus de Sous-titres de Films

**Contexte** : Vous avez 50 fichiers .srt de films que vous voulez analyser.

**Ã‰tapes** :
1. CrÃ©er un nouveau projet HIMYC
2. **Sous-titres** â†’ Ajouter Ã©pisodes : S01E01, S01E02, ... S01E50
3. **Sous-titres** â†’ Import batch : SÃ©lectionner le dossier contenant les 50 .srt
4. **Normalisation** â†’ Normaliser tout (profil franÃ§ais si pertinent)
5. **Normalisation** â†’ Segmenter tout
6. **Normalisation** â†’ Indexer DB
7. **Concordance** â†’ Recherche KWIC sur les 50 films

---

### Exemple 2 : SÃ©rie TV Multilingue

**Contexte** : SÃ©rie TV avec transcripts anglais + sous-titres franÃ§ais.

**Ã‰tapes** :
1. **Transcripts** â†’ DÃ©couvrir Ã©pisodes (source anglaise)
2. **Transcripts** â†’ TÃ©lÃ©charger tout (texte anglais)
3. **Sous-titres** â†’ Import batch : Dossier avec .srt franÃ§ais
4. **Normalisation** â†’ Normaliser tout (profil anglais pour transcripts, franÃ§ais pour SRT)
5. **Alignement** â†’ Aligner EN â†” FR
6. **Concordance** â†’ Concordance parallÃ¨le EN/FR

## ğŸš€ Ã‰volutions Futures (Optionnel)

### Phase 2 : Import SRT Automatique Complet

**Objectif** : Import automatique direct dans la DB (pas de passage par Inspecteur).

**FonctionnalitÃ©s prÃ©vues** :
- Import batch â†’ Ajout automatique des pistes dans la DB
- DÃ©tection automatique de la langue (depuis nom fichier : `.fr.srt`, `.en.srt`)
- Normalisation automatique aprÃ¨s import

### Phase 3 : DÃ©tection Intelligente

**Objectif** : DÃ©tection automatique du workflow optimal.

**FonctionnalitÃ©s prÃ©vues** :
- DÃ©tection si projet = Transcripts, SRT, ou Hybride
- Suggestions contextuelles (ex: "Vous avez des transcripts mais pas de SRT, voulez-vous en importer ?")
- Workflow guidÃ© au premier lancement

## ğŸ“– Documentation ComplÃ©mentaire

- `docs/refonte-sources-equilibrees.md` : Proposition de refonte complÃ¨te (design)
- `README.md` : Guide gÃ©nÃ©ral HIMYC
- `docs/profils-normalisation-phase3.md` : Profils de normalisation avancÃ©s

---

**Auteur** : Cursor AI Assistant  
**Date** : 2026-02-16  
**Status** : âœ… ImplÃ©mentÃ©  
**Version HIMYC** : Refonte Interface Sources Ã‰quilibrÃ©es
